<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE HTML>
<html>
<head>
	<title>MY Web</title>
	<link href="stylesheets/bootstrap.min.css" rel='stylesheet' type='text/css' />
	<link href="stylesheets/style.css" rel='stylesheet' type='text/css' />
	<link href="stylesheets/compiled-4.7.1.min.css" rel='stylesheet' type='text/css'/>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="Personal Blog Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
	Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" 
	/>
	<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
	<!----webfonts---->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

		<link href='http://fonts.googleapis.com/css?family=Oswald:100,400,300,700' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,300italic' rel='stylesheet' type='text/css'>
		<!----//webfonts---->
		  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<!--end slider -->
		<!--script-->
    <link href="https://unpkg.com/gijgo@1.9.11/css/gijgo.min.css" rel="stylesheet" type="text/css" />
<!---->

</head>
<body class="light-blue-skin">

  <!--Double navigation-->
  <header>
  
    <!-- Navbar -->
    <nav class="navbar fixed-top navbar-toggleable-md navbar-expand-lg scrolling-navbar double-nav">
      <!-- SideNav slide-out button -->
     
      <!-- Breadcrumb-->
      <div class="breadcrumb-dn mr-auto">
        <p>Welcome to your Dashborad</p>
      </div>
      <ul class="nav navbar-nav nav-flex-icons ml-auto">
        <!-- <li class="nav-item">
          <a class="nav-link"><i class="fas fa-envelope"></i> <span class="clearfix d-none d-sm-inline-block">Contact</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link"><i class="far fa-comments"></i> <span class="clearfix d-none d-sm-inline-block">Support</span></a>
        </li> -->
       
        <li class="nav-item">
          <a href="/users/dashborad" class="nav-link"><i class="fas fa-book"></i> <span class="clearfix d-none d-sm-inline-block">Article</span></a>
        </li>
        <li class="nav-item">
          <a href="/profile" class="nav-link"><i class="fas fa-user"></i> <span class="clearfix d-none d-sm-inline-block">Profile</span></a>
        </li>
        <li class="nav-item">
          <a href="/users" class="nav-link"><i class="fas fa-home"></i> <span class="clearfix d-none d-sm-inline-block">Home</span></a>
        </li>













        
      </ul>
    </nav>
    <!-- /.Navbar -->
  </header>
  <!--/.Double navigation-->

  <!--Main Layout-->
  <main>
    <div class="container mt-6" style="color: whitesmoke">
      <h2>Advanced Double Navigation with fixed SideNav & fixed Navbar:</h2>
      <br>
      <h5>1. Fixed side menu, hidden on small devices.</h5>
      <h5>2. Fixed Navbar. It will always stay visible on the top, even when you scroll down.</h5>


      <div class="wrapper-modal-editor">

        <div class="block my-4">
          <div class="d-flex justify-content-center">
            <p class="h5 text-primary createShowP">0 row selected</p>
          </div>
        </div>
      
        <div class="row d-flex justify-content-center modalWrapper">
         
      
          <div class="text-center">
            <a href="/articles/addarticle" class="btn btn-info btn-rounded btn-md">Add<i
                class="fas fa-plus-square ml-1"></i></a>
          </div>
      
         
     
        </div>
      
        <table id="dtBasicExample" class="table table-striped table-bordered text-center mx-auto" cellspacing="0" style="width: 70%;">
          <thead>
            <tr>
              <th class="">
      
              </th>
              <th class="">Image
      
              </th>
              <th class="">Title
      
              </th>
              <th class="">Date
      
              </th>
              <th class="">options
                  
                </th>
              
            </tr>
          </thead>
          <tbody>
            <% for(var i=0;i < art.length;i++){  %>
            <tr id='_<%= i+1 %>'  >
                <!-- onclick="SelectedRow(<%= i+1 %>)" -->
              <!-- <input id='input<%= i+1 %>' type="hidden" value="<%= art[i].id %>" /> -->
              <td><%= i+1 %></td>
              <td><%= art[i].image %></td>
              <td><%= art[i].title %></td>
              <td><%= art[i].date %></td>
              <td> <button onclick="deleteRow('<%= i+1 %>','<%= art[i].id %>')" class="btn btn-danger btn-sm btn-rounded buttonDelete" 
                >Delete<i class="fas fa-trash ml-1"></i></button>
                 <button onclick="editRow('<%= i+1 %>','<%= art[i].id %>')" class="btn btn-info btn-rounded btn-sm buttonEdit" data-toggle="modal" data-target="#modalEdit"
                >Edit<i class="fas fa-edit ml-1"></i></button>
             </td>
            </tr>
            <% }%>
           
          


       






            <div class="modal fade" id="modalEdit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <form method="post">
          
            <div id="edi" class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header text-center">
                  <h4 class="modal-title w-100 font-weight-bold text-dark">Edit Post</h4>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                
                <div class="modal-body mx-3">
                 
                    <div class="file-field">
                        <div class="mb-4  text-center">
                          <img  id="imgPreviewProduct"src="https://mdbootstrap.com/img/Photos/Others/placeholder-avatar.jpg" style="width: 100px" class=" z-depth-1-half avatar-pic"
                            alt="example placeholder avatar">
                        </div>
                        <div class="d-flex justify-content-center mb-2">
                          <div id="button" class="btn  btn-rounded float-left z-depth-1a btn-sm" >
                            <span>change image</span>
                            <input name="image" id="imageProduct"type="file">
                          </div>
                        </div>
                      </div>


                  <div class="md-form mb-5">
                    <i class="fas fa-clipboard  prefix grey-text"></i>
                    <input type="text" id="form3" class="form-control validate">
                    <label data-error="wrong" data-success="right" for="form3">Title</label>
                  </div>
          
                  <div class="md-form mb-4">
                    <i class="fas fa-clock prefix grey-text"></i>
                    <input type="text" id="datepicker2" class="form-control validate" >
                    <!-- style="width: calc(100% - 2.5rem);
                    float: right; "> -->
              
                    <label data-error="wrong" data-success="right" for="datepicker2" style="transform: translateY(-140%);">Date</label>
                  </div>
                  <div class="modal-footer d-flex justify-content-center">
                      <button type="submit" class="btn btn-indigo">Send <i class="fas fa-paper-plane-o ml-1"></i></button>
                    </div>
               
                </div>
               
             
              </div>
            </div>
          </form>
          </div>
          
        
























          
          
        
          
       
       
           
            
            
        
          </tbody>
       
        </table>
      </div>
      <div style="height: 2000px"></div>
    </div>
  </main>
  <!--Main Layout-->
<script src="javascripts/jquery-3.3.1.min.js" type="text/javascript"></script>
<script src="javascripts/popper.min.js" type="text/javascript"></script>
<script src="javascripts/bootstrap.min.js" type="text/javascript"></script>
<script src="javascripts/mdb.min.js" type="text/javascript"></script>
<script type="text/javascript" src="javascripts/move-top.js"></script>
<script type="text/javascript" src="javascripts/easing.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>
<!--/script-->
<script src="https://unpkg.com/gijgo@1.9.11/js/gijgo.min.js" type="text/javascript"></script>





<script type="text/javascript">
jQuery(document).ready(function($) {
        $('#datepicker2').datepicker({ format: 'yyyy/mm/dd' ,
    uiLibrary: 'bootstrap4'
});
$('#datapicker2').siblings("span").css("display","none");
    })
 
// $('#dtBasicExample').mdbEditor();
// $('.dataTables_length').addClass('bs-select');
// // SideNav Button Initialization
// $(".button-collapse").sideNav();
// SideNav Scrollbar Initialization
// var sideNavScrollbar = document.querySelector('.custom-scrollbar');
// Ps.initialize(sideNavScrollbar);

			jQuery(document).ready(function($) {
				$(".scroll").click(function(event){		
					event.preventDefault();
					$('html,body').animate({scrollTop:$(this.hash).offset().top},900);
				});
      });
      function editRow(rowId,articleId){
        console.log("yes bitch")
      }
      function deleteRow(rowId,articleId){
 

const swalWithBootstrapButtons = Swal.mixin({
  confirmButtonClass: 'btn btn-success',
  cancelButtonClass: 'btn btn-danger',
  buttonsStyling: false,
})

swalWithBootstrapButtons.fire({
  title: 'Are you sure?',
  text: "You won't be able to revert this!",
  type: 'warning',
  showCancelButton: true,
  confirmButtonText: 'Yes, delete it!',
  cancelButtonText: 'No, cancel!',
  reverseButtons: true
}).then((result) => {
  if (result.value) {
    swalWithBootstrapButtons.fire(
      'Deleted!',
      'Your file has been deleted.',
      'success'
    )
    console.log("&&&&&&&&&&&&&&&&&&&&&"+parseInt(rowId)+" "+rowId);
  $.ajax({
    type:"post",
    url:"http://localhost:3000/articles/delete",
    data:{"myid": articleId},
    contentType: "application/x-www-form-urlencoded; charset=UTF-8"
}).done(function(res){
console.log("are");
$("#_"+rowId).hide('slow');



  }).fail(function(xhr){

console.log("na");


  });
  } else if (
    // Read more about handling dismissals
    result.dismiss === Swal.DismissReason.cancel
  ) {
    swalWithBootstrapButtons.fire(
      'Cancelled',
      'Your imaginary file is safe :)',
      'error'
    )
  }
})


}



</script>
</body>